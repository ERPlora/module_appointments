{% extends "ui/module_content.html" %}
{% load static i18n djicons ui %}

{% block header_actions %}
<ion-button size="default" href="{% url 'appointments:schedule_create' %}" title="{% trans 'New Schedule' %}">
    {% icon "add-outline" %}
</ion-button>
{% endblock %}

{% block content %}
{% if schedules %}
{% ui_list lines="full" %}
    {% for schedule in schedules %}
    <ion-item href="{% url 'appointments:schedule_detail' schedule.id %}" detail>
        {% icon "time-outline" css_class="text-{% if schedule.is_active %}primary{% else %}medium{% endif %}" %}
        <ion-label>
            <h2>{{ schedule.name }}</h2>
            <p>{{ schedule.time_slots.count }} {% trans "time slots" %}</p>
        </ion-label>
        {% if schedule.is_default %}
        <ion-badge slot="end" color="primary">{% trans "Default" %}</ion-badge>
        {% endif %}
        {% if not schedule.is_active %}
        <ion-badge slot="end" color="medium">{% trans "Inactive" %}</ion-badge>
        {% endif %}
    </ion-item>
    {% endfor %}
{% endui_list %}
{% else %}
{% ui_empty_state title=_("No schedules created") icon="time-outline" description=_("Create your first schedule to define working hours") %}
{% endif %}

<ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button href="{% url 'appointments:schedule_create' %}">
        {% icon "add" %}
    </ion-fab-button>
</ion-fab>
{% endblock %}
